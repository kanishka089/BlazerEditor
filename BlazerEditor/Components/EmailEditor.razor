@using BlazerEditor.Models
@using BlazerEditor.Services
@using Microsoft.AspNetCore.Components.Forms
@inject HtmlExportService HtmlExportService
@inject DesignService DesignService
@inject MergeTagService MergeTagService

<div class="blazer-editor @ThemeClass" style="min-height: @(Options.MinHeight)px;">
    <div class="editor-container">
        <!-- Toolbar -->
        <div class="editor-toolbar">
            <div class="toolbar-section">
                <button class="toolbar-btn" @onclick="Undo" disabled="@(!_canUndo)" title="Undo">
                    <span class="icon">‚Ü∂</span>
                </button>
                <button class="toolbar-btn" @onclick="Redo" disabled="@(!_canRedo)" title="Redo">
                    <span class="icon">‚Ü∑</span>
                </button>

            </div>
            
            <div class="toolbar-section">
                <button class="toolbar-btn @(_previewMode == PreviewMode.Desktop ? "active" : "")" 
                        @onclick="() => SetPreviewMode(PreviewMode.Desktop)" 
                        title="Desktop Preview">
                    <span class="icon">üñ•Ô∏è</span>
                </button>
                <button class="toolbar-btn @(_previewMode == PreviewMode.Mobile ? "active" : "")" 
                        @onclick="() => SetPreviewMode(PreviewMode.Mobile)" 
                        title="Mobile Preview">
                    <span class="icon">üì±</span>
                </button>
            </div>

            @if (Options.EnableMergeTags && _mergeTags.Any())
            {
                <div class="toolbar-section">
                    <MergeTagPicker MergeTags="_mergeTags" 
                                    OnTagInsert="HandleMergeTagInsert"
                                    OnPreviewModeChanged="HandleMergeTagPreviewChanged"
                                    ShowPreviewToggle="Options.ShowMergeTagPreview" />
                </div>
            }

            <div class="toolbar-section toolbar-actions">
                @if (ShowExportButton)
                {
                    <button class="toolbar-btn toolbar-btn-primary" @onclick="HandleExport">
                        Export HTML
                    </button>
                }
                @if (ShowSaveButton)
                {
                    <button class="toolbar-btn toolbar-btn-primary" @onclick="HandleSave">
                        Save Design
                    </button>
                }
            </div>
        </div>

        <!-- Main Editor Area -->
        <div class="editor-main">
            <!-- Left Panel - Components -->
            <div class="editor-panel editor-panel-left">
                <div class="panel-header">Components</div>
                <div class="panel-content">
                    <div class="component-list">
                        @foreach (var component in _availableComponents)
                        {
                            <div class="component-item" draggable="true" 
                                 @ondragstart="() => OnDragStart(component)"
                                 @ondragend="OnDragEnd">
                                <span class="component-icon">@component.Icon</span>
                                <span class="component-label">@component.Label</span>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Center - Canvas -->
            <div class="editor-canvas @GetCanvasClass()" @onclick="DeselectAll">
                <div class="canvas-wrapper" @onclick="DeselectAll">
                    <div class="email-preview" style="max-width: @(_currentDesign.Body.Values.ContentWidth);">
                        @if (_currentDesign.Body.Rows.Any())
                        {
                            @foreach (var (row, rowIndex) in _currentDesign.Body.Rows.Select((r, i) => (r, i)))
                            {
                                <div class="email-row @GetRowClass(rowIndex)" 
                                     @onclick="() => SelectRow(rowIndex)"
                                     @onclick:stopPropagation
                                     @ondrop="() => OnDrop(rowIndex)"
                                     @ondragover="OnDragOver"
                                     @ondragover:preventDefault
                                     @onmouseenter="() => _hoveredRowIndex = rowIndex"
                                     @onmouseleave="() => _hoveredRowIndex = -1">
                                    
                                    @if (row.Columns.Count == 1)
                                    {
                                        <div class="email-column @GetColumnClass(row.Columns[0])"
                                             @ondrop="@((e) => { if (_draggedLayout != null) return; OnColumnDrop(rowIndex, 0); })"
                                             @ondragover="OnDragOver"
                                             @ondragover:preventDefault
                                             @onmouseenter="() => OnColumnMouseEnter(rowIndex, 0)"
                                             @onmouseleave="() => OnColumnMouseLeave()">
                                            @RenderColumn(row.Columns[0], rowIndex, 0)
                                            
                                            <!-- Split button - show when row is hovered (like add row button) -->
                                            @if (_hoveredRowIndex == rowIndex)
                                            {
                                                <button class="split-column-btn" 
                                                        @onclick="async () => await OnSplitColumnClick(rowIndex, 0)" 
                                                        @onclick:stopPropagation
                                                        title="Split this column in half">
                                                    <span class="split-icon">‚ö°</span>
                                                </button>
                                            }
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="email-columns">
                                            @foreach (var (column, colIndex) in row.Columns.Select((c, i) => (c, i)))
                                            {
                                                var width = row.Cells.Count > colIndex ? row.Cells[colIndex] : (100.0 / row.Columns.Count);
                                                <div class="email-column @GetColumnClass(column)" 
                                                     style="width: @(width)% !important; flex: none !important;"
                                                     @ondrop="@((e) => { if (_draggedLayout != null) return; OnColumnDrop(rowIndex, colIndex); })"
                                                     @ondragover="OnDragOver"
                                                     @ondragover:preventDefault
                                                     @onmouseenter="() => OnColumnMouseEnter(rowIndex, colIndex)"
                                                     @onmouseleave="() => OnColumnMouseLeave()">
                                                    @RenderColumn(column, rowIndex, colIndex)
                                                    
                                                    <!-- Split button - show when row is hovered (like add row button) -->
                                                    @if (_hoveredRowIndex == rowIndex)
                                                    {
                                                        <button class="split-column-btn" 
                                                                @onclick="async () => await OnSplitColumnClick(rowIndex, colIndex)" 
                                                                @onclick:stopPropagation
                                                                title="Split this column in half">
                                                            <span class="split-icon">‚ö°</span>
                                                        </button>
                                                    }
                                                </div>
                                            }
                                        </div>
                                    }

                                    <!-- Add Row Button -->
                                    @if (_hoveredRowIndex == rowIndex)
                                    {
                                        <div class="row-add-buttons">
                                            <button class="add-row-btn add-row-below" @onclick="() => AddRowBelow(rowIndex)" @onclick:stopPropagation title="Add row below">
                                                <span>+</span>
                                            </button>
                                        </div>
                                    }

                                    @if (_selectedRowIndex == rowIndex)
                                    {
                                        <div class="row-actions">
                                            <button class="action-btn @(row.Columns.Count == 1 ? "active" : "")" @onclick="() => SetColumnCount(rowIndex, 1)" @onclick:stopPropagation title="1 Column">
                                                1
                                            </button>
                                            <button class="action-btn @(row.Columns.Count == 2 ? "active" : "")" @onclick="() => SetColumnCount(rowIndex, 2)" @onclick:stopPropagation title="2 Columns">
                                                2
                                            </button>
                                            <button class="action-btn @(row.Columns.Count == 3 ? "active" : "")" @onclick="() => SetColumnCount(rowIndex, 3)" @onclick:stopPropagation title="3 Columns">
                                                3
                                            </button>
                                            <button class="action-btn @(row.Columns.Count == 4 ? "active" : "")" @onclick="() => SetColumnCount(rowIndex, 4)" @onclick:stopPropagation title="4 Columns">
                                                4
                                            </button>
                                            <span class="action-separator">|</span>
                                            <button class="action-btn" @onclick="() => MoveRowUp(rowIndex)" @onclick:stopPropagation title="Move Up" disabled="@(rowIndex == 0)">
                                                ‚Üë
                                            </button>
                                            <button class="action-btn" @onclick="() => MoveRowDown(rowIndex)" @onclick:stopPropagation title="Move Down" disabled="@(rowIndex == _currentDesign.Body.Rows.Count - 1)">
                                                ‚Üì
                                            </button>
                                            <button class="action-btn" @onclick="() => DuplicateRow(rowIndex)" @onclick:stopPropagation title="Duplicate">
                                                üìã
                                            </button>
                                            <button class="action-btn" @onclick="() => DeleteRow(rowIndex)" @onclick:stopPropagation title="Delete" disabled="@(_currentDesign.Body.Rows.Count <= 1)">
                                                üóëÔ∏è
                                            </button>
                                        </div>
                                    }
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>

            <!-- Right Panel - Properties -->
            <div class="editor-panel editor-panel-right">
                <div class="panel-header">Properties</div>
                <div class="panel-content">
                    @if (_selectedContent != null)
                    {
                        <div class="properties-form">
                            @RenderContentProperties(_selectedContent)
                        </div>
                    }
                    else if (_selectedRowIndex >= 0)
                    {
                        <div class="properties-form">
                            <div class="form-group">
                                <label>Background Color</label>
                                <input type="color" @bind="_currentDesign.Body.Rows[_selectedRowIndex].Values.BackgroundColor" />
                            </div>
                            <div class="form-group">
                                <label>Padding</label>
                                <input type="text" @bind="_currentDesign.Body.Rows[_selectedRowIndex].Values.Padding" />
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="properties-empty">
                            <p>Select an element to edit its properties</p>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private RenderFragment RenderColumn(Column column, int rowIndex, int colIndex)
    {
        Console.WriteLine($"RENDER: Column {colIndex} in row {rowIndex} - HasSubColumns: {column.HasSubColumns}, SubColumns count: {column.SubColumns?.Count ?? 0}");
        
        return @<text>
            @if (column.HasSubColumns)
            {
                <!-- Render sub-columns -->
                <div class="sub-columns">
                    @foreach (var (subColumn, subIndex) in column.SubColumns!.Select((sc, i) => (sc, i)))
                    {
                        var width = column.SubColumnWidths!.Count > subIndex ? column.SubColumnWidths[subIndex] : (100.0 / column.SubColumns.Count);
                        <div class="sub-column" style="width: @(width)%;">
                            @RenderSubColumn(subColumn, rowIndex, colIndex, subIndex)
                        </div>
                    }
                </div>
            }
            else
            {
                <!-- Render regular column content -->
                @foreach (var (content, contentIndex) in column.Contents.Select((c, i) => (c, i)))
                {
                    <!-- Drop zone before element -->
                    <div class="drop-zone @GetDropZoneClass(rowIndex, colIndex, contentIndex)"
                         @ondrop="() => OnContentDrop(rowIndex, colIndex, contentIndex)"
                         @ondragover="() => OnContentDragOver(rowIndex, colIndex, contentIndex)"
                         @ondragover:preventDefault
                         @ondragleave="OnContentDragLeave">
                    </div>

                    <div class="email-content @GetContentClass(rowIndex, colIndex, contentIndex)"
                         draggable="true"
                         @ondragstart="() => OnContentDragStart(rowIndex, colIndex, contentIndex)"
                         @ondragend="OnContentDragEnd"
                         @onclick="() => SelectContent(rowIndex, colIndex, contentIndex)"
                         @onclick:stopPropagation>
                        
                        <!-- Drag handle -->
                        <div class="drag-handle" title="Drag to reorder">
                            <span class="drag-icon">‚ãÆ‚ãÆ</span>
                        </div>
                        
                        @RenderContentPreview(content)
                        
                        @if (IsContentSelected(rowIndex, colIndex, contentIndex))
                        {
                            <div class="content-actions">
                                <button class="action-btn-small" @onclick="() => MoveContentUp(rowIndex, colIndex, contentIndex)" @onclick:stopPropagation title="Move Up" disabled="@(contentIndex == 0)">
                                    ‚Üë
                                </button>
                                <button class="action-btn-small" @onclick="() => MoveContentDown(rowIndex, colIndex, contentIndex)" @onclick:stopPropagation title="Move Down" disabled="@(contentIndex == column.Contents.Count - 1)">
                                    ‚Üì
                                </button>
                                <button class="action-btn-small" @onclick="() => DuplicateContent(rowIndex, colIndex, contentIndex)" @onclick:stopPropagation title="Duplicate">
                                    üìã
                                </button>
                                <button class="action-btn-small" @onclick="() => DeleteContent(rowIndex, colIndex, contentIndex)" @onclick:stopPropagation title="Delete">
                                    üóëÔ∏è
                                </button>
                            </div>
                        }
                    </div>
                }
                
                <!-- Drop zone after last element -->
                <div class="drop-zone @GetDropZoneClass(rowIndex, colIndex, column.Contents.Count)"
                     @ondrop="() => OnContentDrop(rowIndex, colIndex, column.Contents.Count)"
                     @ondragover="() => OnContentDragOver(rowIndex, colIndex, column.Contents.Count)"
                     @ondragover:preventDefault
                     @ondragleave="OnContentDragLeave">
                </div>
            }
        </text>;
    }

    private RenderFragment RenderSubColumn(SubColumn subColumn, int rowIndex, int colIndex, int subIndex)
    {
        return @<text>
            @foreach (var (content, contentIndex) in subColumn.Contents.Select((c, i) => (c, i)))
            {
                <!-- Drop zone before element -->
                <div class="drop-zone @GetSubDropZoneClass(rowIndex, colIndex, subIndex, contentIndex)"
                     @ondrop="() => OnSubContentDrop(rowIndex, colIndex, subIndex, contentIndex)"
                     @ondragover="() => OnSubContentDragOver(rowIndex, colIndex, subIndex, contentIndex)"
                     @ondragover:preventDefault>
                </div>

                <div class="email-content @GetSubContentClass(rowIndex, colIndex, subIndex, contentIndex)"
                     draggable="true"
                     @ondragstart="() => OnSubContentDragStart(rowIndex, colIndex, subIndex, contentIndex)"
                     @ondragend="OnContentDragEnd"
                     @onclick="() => SelectSubContent(rowIndex, colIndex, subIndex, contentIndex)"
                     @onclick:stopPropagation>
                    
                    <!-- Drag handle -->
                    <div class="drag-handle" title="Drag to reorder">
                        <span class="drag-icon">‚ãÆ‚ãÆ</span>
                    </div>
                    
                    @RenderContentPreview(content)
                    
                    @if (IsSubContentSelected(rowIndex, colIndex, subIndex, contentIndex))
                    {
                        <div class="content-actions">
                            <button class="action-btn-small" @onclick="() => MoveSubContentUp(rowIndex, colIndex, subIndex, contentIndex)" @onclick:stopPropagation title="Move Up" disabled="@(contentIndex == 0)">
                                ‚Üë
                            </button>
                            <button class="action-btn-small" @onclick="() => MoveSubContentDown(rowIndex, colIndex, subIndex, contentIndex)" @onclick:stopPropagation title="Move Down" disabled="@(contentIndex == subColumn.Contents.Count - 1)">
                                ‚Üì
                            </button>
                            <button class="action-btn-small" @onclick="() => DuplicateSubContent(rowIndex, colIndex, subIndex, contentIndex)" @onclick:stopPropagation title="Duplicate">
                                üìã
                            </button>
                            <button class="action-btn-small" @onclick="() => DeleteSubContent(rowIndex, colIndex, subIndex, contentIndex)" @onclick:stopPropagation title="Delete">
                                üóëÔ∏è
                            </button>
                        </div>
                    }
                </div>
            }
            
            <!-- Drop zone after last element -->
            <div class="drop-zone @GetSubDropZoneClass(rowIndex, colIndex, subIndex, subColumn.Contents.Count)"
                 @ondrop="() => OnSubContentDrop(rowIndex, colIndex, subIndex, subColumn.Contents.Count)"
                 @ondragover="() => OnSubContentDragOver(rowIndex, colIndex, subIndex, subColumn.Contents.Count)"
                 @ondragover:preventDefault>
            </div>
        </text>;
    }

    private string GetDropZoneClass(int rowIndex, int colIndex, int index)
    {
        if (_dropTargetRowIndex == rowIndex && 
            _dropTargetColumnIndex == colIndex && 
            _dropTargetIndex == index)
        {
            return "active";
        }
        return "";
    }

    private RenderFragment RenderContentPreview(Content content)
    {
        return content.Type switch
        {
            "text" => @<div class="content-text @(string.IsNullOrEmpty(content.Values.Text) || content.Values.Text.Contains("Enter your text here") ? "placeholder-text" : "")" 
                            style="font-size: @content.Values.FontSize; color: @content.Values.Color; text-align: @content.Values.TextAlign; padding: @content.Values.ContainerPadding;">
                @if (string.IsNullOrEmpty(content.Values.Text))
                {
                    <p style="color: #999;">Click to add text...</p>
                }
                else
                {
                    @((MarkupString)content.Values.Text)
                }
            </div>,
            "image" => @<div class="content-image" style="text-align: @content.Values.TextAlign; padding: @content.Values.ContainerPadding;">
                @if (content.Values.Src != null && !string.IsNullOrEmpty(content.Values.Src.Url))
                {
                    <img src="@content.Values.Src.Url" alt="@content.Values.AltText" style="max-width: @content.Values.Src.MaxWidth;" />
                }
                else
                {
                    <div class="placeholder-image">üì∑ Image</div>
                }
            </div>,
            "button" => @<div class="content-button" style="text-align: @content.Values.TextAlign; padding: @content.Values.ContainerPadding;">
                <a href="#" class="email-button" style="background-color: @(content.Values.ButtonColors?.BackgroundColor ?? "#3AAEE0"); color: @(content.Values.ButtonColors?.Color ?? "#FFFFFF");">
                    @((MarkupString)(content.Values.Text ?? "Button"))
                </a>
            </div>,
            "divider" => @<div class="content-divider" style="padding: @content.Values.ContainerPadding;">
                @if (content.Values.TextAlign == "vertical")
                {
                    <div class="vertical-divider" style="border-left: @(content.Values.FontSize ?? "2px") solid @content.Values.Color; height: 100px; margin: 0 auto; width: 0;"></div>
                }
                else
                {
                    <hr style="border: 0; border-top: @(content.Values.FontSize ?? "1px") solid @content.Values.Color; margin: 10px 0;" />
                }
            </div>,
            "column-divider" => @<div class="content-column-divider" style="padding: @content.Values.ContainerPadding;">
                <div class="vertical-divider" style="border-left: @(content.Values.FontSize ?? "2px") solid @content.Values.Color; height: @(content.Values.LineHeight ?? "150px"); margin: 0 auto; width: 0;"></div>
            </div>,
            "heading" => @<div class="content-heading @(string.IsNullOrEmpty(content.Values.Text) || content.Values.Text == "Your Heading" ? "placeholder-text" : "")" 
                              style="font-size: @content.Values.FontSize; color: @content.Values.Color; text-align: @content.Values.TextAlign; padding: @content.Values.ContainerPadding;">
                @if (string.IsNullOrEmpty(content.Values.Text))
                {
                    <h2 style="color: #999; font-style: italic;">Click to add heading...</h2>
                }
                else
                {
                    <h2>@((MarkupString)content.Values.Text)</h2>
                }
            </div>,
            "layout" => @<div></div>, // Old nested layouts - ignore
            _ => @<div>Unknown component</div>
        };
    }

    private RenderFragment RenderContentProperties(Content content)
    {
        return @<text>
            <div class="form-group">
                <label>Padding</label>
                <input type="text" @bind="content.Values.ContainerPadding" @bind:event="oninput" />
            </div>

            @if (content.Type == "text" || content.Type == "heading")
            {
                <div class="form-group">
                    <label>Text Content</label>
                    <RichTextEditor Value="@(content.Values.Text ?? "")" 
                                    ValueChanged="@((value) => { content.Values.Text = value; StateHasChanged(); })"
                                    MergeTags="_mergeTags" />
                </div>
                <div class="form-group">
                    <label>Font Size</label>
                    <input type="text" @bind="content.Values.FontSize" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Color</label>
                    <input type="color" @bind="content.Values.Color" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Text Align</label>
                    <div class="align-buttons">
                        <button type="button" 
                                class="align-btn @(content.Values.TextAlign == "left" ? "active" : "")"
                                @onclick="@(() => { content.Values.TextAlign = "left"; StateHasChanged(); })"
                                title="Align Left">
                            ‚¨Ö
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.TextAlign == "center" ? "active" : "")"
                                @onclick="@(() => { content.Values.TextAlign = "center"; StateHasChanged(); })"
                                title="Align Center">
                            ‚Üî
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.TextAlign == "right" ? "active" : "")"
                                @onclick="@(() => { content.Values.TextAlign = "right"; StateHasChanged(); })"
                                title="Align Right">
                            ‚û°
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.TextAlign == "justify" ? "active" : "")"
                                @onclick="@(() => { content.Values.TextAlign = "justify"; StateHasChanged(); })"
                                title="Justify">
                            ‚¨å
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Line Height</label>
                    <input type="text" @bind="content.Values.LineHeight" @bind:event="oninput" placeholder="140%" />
                </div>
            }

            @if (content.Type == "image")
            {
                <div class="form-group">
                    <label>Upload Image</label>
                    <div class="file-upload-wrapper">
                        <InputFile id="@($"file-upload-{content.Id}")" OnChange="@((e) => HandleImageUpload(e, content))" accept="image/*" class="file-input-hidden" />
                        <label for="@($"file-upload-{content.Id}")" class="file-upload-btn">
                            üìÅ Choose Image File
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Or Image URL</label>
                    <input type="text" @bind="content.Values.Src!.Url" @bind:event="oninput" placeholder="https://example.com/image.jpg" />
                </div>
                <div class="form-group">
                    <label>Image Width</label>
                    <div class="align-buttons">
                        <button type="button" 
                                class="align-btn @(content.Values.Src!.MaxWidth == "25%" ? "active" : "")"
                                @onclick="@(() => { content.Values.Src!.MaxWidth = "25%"; StateHasChanged(); })"
                                title="25%">
                            25%
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.Src!.MaxWidth == "50%" ? "active" : "")"
                                @onclick="@(() => { content.Values.Src!.MaxWidth = "50%"; StateHasChanged(); })"
                                title="50%">
                            50%
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.Src!.MaxWidth == "75%" ? "active" : "")"
                                @onclick="@(() => { content.Values.Src!.MaxWidth = "75%"; StateHasChanged(); })"
                                title="75%">
                            75%
                        </button>
                        <button type="button" 
                                class="align-btn @(content.Values.Src!.MaxWidth == "100%" ? "active" : "")"
                                @onclick="@(() => { content.Values.Src!.MaxWidth = "100%"; StateHasChanged(); })"
                                title="100%">
                            100%
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Custom Width (optional)</label>
                    <input type="text" @bind="content.Values.Src!.MaxWidth" @bind:event="oninput" placeholder="e.g., 300px or 80%" />
                </div>
                <div class="form-group">
                    <label>Alt Text</label>
                    <input type="text" @bind="content.Values.AltText" @bind:event="oninput" placeholder="Description of image" />
                </div>
            }

            @if (content.Type == "button")
            {
                <div class="form-group">
                    <label>Button Text</label>
                    <input type="text" @bind="content.Values.Text" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Link URL</label>
                    <input type="text" @bind="content.Values.Href!.Values.Href" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Background Color</label>
                    <input type="color" @bind="content.Values.ButtonColors!.BackgroundColor" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Text Color</label>
                    <input type="color" @bind="content.Values.ButtonColors!.Color" @bind:event="oninput" />
                </div>
            }

            @if (content.Type == "divider")
            {
                <div class="form-group">
                    <label>Orientation</label>
                    <select @bind="content.Values.TextAlign">
                        <option value="horizontal">Horizontal</option>
                        <option value="vertical">Vertical</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Line Color</label>
                    <input type="color" @bind="content.Values.Color" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Thickness</label>
                    <select @bind="content.Values.FontSize">
                        <option value="1px">Thin (1px)</option>
                        <option value="2px">Medium (2px)</option>
                        <option value="3px">Thick (3px)</option>
                        <option value="4px">Extra Thick (4px)</option>
                    </select>
                </div>
            }

            @if (content.Type == "column-divider")
            {
                <div class="form-group">
                    <label>Line Color</label>
                    <input type="color" @bind="content.Values.Color" @bind:event="oninput" />
                </div>
                <div class="form-group">
                    <label>Thickness</label>
                    <select @bind="content.Values.FontSize">
                        <option value="1px">Thin (1px)</option>
                        <option value="2px">Medium (2px)</option>
                        <option value="3px">Thick (3px)</option>
                        <option value="4px">Extra Thick (4px)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Height</label>
                    <input type="text" @bind="content.Values.LineHeight" @bind:event="oninput" placeholder="150px" />
                </div>
            }
        </text>;
    }

}
